# =============================================================================
# GenAssist Docker Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment.
# This file controls Docker Compose service configuration.
#
# Usage (from docker/ directory):
#   docker compose --profile full up -d --build
#   docker compose up -d db redis chroma qdrant whisper
# =============================================================================

# -----------------------------------------------------------------------------
# Docker Compose File Configuration
# -----------------------------------------------------------------------------
# Automatically loads base + environment-specific override file.
# Uncomment ONE of the following based on your environment:

# Development (build from source)
COMPOSE_FILE=docker-compose.base.yml:docker-compose.build.yml

# Production (pre-built images from GHCR)
# COMPOSE_FILE=docker-compose.base.yml:docker-compose.yml

# CI/CD (isolated ports)
# COMPOSE_FILE=docker-compose.base.yml:docker-compose.ci.yml

# -----------------------------------------------------------------------------
# Environment Type
# -----------------------------------------------------------------------------
# Options: dev, ci, prod
COMPOSE_ENV=dev

# -----------------------------------------------------------------------------
# Container Registry Settings
# -----------------------------------------------------------------------------
# For production deployments using pre-built images
APP_IMAGE=ghcr.io/ritechsolutions/genassist-backend:latest
UI_IMAGE=ghcr.io/ritechsolutions/genassist-frontend:latest
WHISPER_IMAGE=ghcr.io/ritechsolutions/genassist-whisper:latest

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
POSTGRES_IMAGE=pgvector/pgvector:pg17
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=core_db
DB_PORT_EXTERNAL=5432

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_PORT_EXTERNAL=6379
# Uncomment and set for Redis AUTH
# REDIS_USER=default
# REDIS_PASSWORD=your_secure_password

# -----------------------------------------------------------------------------
# Vector Database Configuration
# -----------------------------------------------------------------------------
# Chroma
CHROMA_VERSION=1.3.7
CHROMA_PORT_EXTERNAL=8005

# Qdrant
QDRANT_VERSION=latest
QDRANT_PORT_EXTERNAL=6333
QDRANT_GRPC_PORT_EXTERNAL=6334

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
APP_PORT_EXTERNAL=8000
WORKERS=1
VECTOR_DB_TYPE=chroma

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
UI_PORT_EXTERNAL=8080
UI_HTTP_PORT_EXTERNAL=80

# -----------------------------------------------------------------------------
# ML Services Configuration
# -----------------------------------------------------------------------------
WHISPER_MODEL=base
WHISPER_PORT_EXTERNAL=8001

# -----------------------------------------------------------------------------
# Monitoring Configuration
# -----------------------------------------------------------------------------
FLOWER_PORT_EXTERNAL=5555
FLOWER_USER=user1
FLOWER_PASSWORD=password1

METABASE_VERSION=latest
METABASE_PORT_EXTERNAL=3000
MB_DB_USER=metabase_admin
MB_DB_PASS=metabase_admin
MB_DB_DBNAME=metabase_db

# -----------------------------------------------------------------------------
# Testing Configuration
# -----------------------------------------------------------------------------
UITESTS_PORT_EXTERNAL=9323
UITESTS_BASE_URL=http://host.docker.internal
